//import
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import java.util.*;
import java.applet.Applet;
import java.applet.AudioClip;
import java.net.URL;
//create class
public class Awaomain extends JPanel implements Runnable, KeyListener, MouseListener
{
    final static int FRAME_WIDTH = 1000, FRAME_HEIGHT = 600;
    static int top;
    //individual character width/height
    final static int charwidth = 13;
    final static int charheight = 15;
    final static int bubblew = 132;
    //number of characters on x and y axis
    static int charx = 50, chary = 40;
    //static char[] [] displayarray = new char [charx] [chary];
    static String[] [] realityarray = new String [bubblew] [bubblew];
    //static int [] [] colorchar = new int [charx] [chary]
    boolean down = false,right= false,left = false,up = false,
    //class to prep the gui for use
    public Awaomain ()
    {
        //add keylisteners and mouselisteners to gui
        addKeyListener (this);
        addMouseListener (this);
        //focus so that keyboard and mouse input are received
        setFocusable (true);
        //prevents shift tab and tab from being consumed
        setFocusTraversalKeysEnabled (false);
        //mediatracker to make sure that the player's character is managed properly (present)
        this.setPreferredSize (new Dimension (FRAME_WIDTH, FRAME_HEIGHT));

        //gets top of usable window, excludes bar along top
        top = getInsets ().top;

        //start a new thread
        Thread t = new Thread (this);
        t.start ();
    }


    //run method to handle the majority of the management of the game
    public void run ()
    {
        realityarray = SFile_RW.adjust (SFile_RW.loadreality (character.chunkx, character.chunky));
        while (true)
        {
            if (right) {
            character.posx = character.posx + 1;
            }
            if (left){
            character.posx = character.posx - 1;
            }
            if (up) {
            character.posy = character.posy + 1;
            }
            if (down) {
            character.posy = character.posy - 1;
            }
            realityarray [character.posx] [character.posy] = "@"+""+realityarray [character.posx] [character.posy] 
            //repaint the screen
            repaint ();
        }
    }





    //method to draw and manage output
    public void paintComponent (Graphics g)
    {
        
        g.setColor (Color.white);
        g.fillRect (0, 0, FRAME_WIDTH, FRAME_HEIGHT);
        g.setColor (Color.black);
        for (int i = 0 ; i < charx ; i++)
        {
            for (int z = 0 ; z < chary ; z++)
            {
                //color lookup table
                /*
                switch (colorchar [i] [z]){
                case 1:
                g.setColor(Color.red);
                break;
                etc
                }
                */
                /*g.drawString ("@",(i + 1) * charwidth, top + charheight * (z + 1));
                System.out.print("@ ");*/
                g.drawString (realityarray [i] [z].charAt(0) +"", (i + 1) * charwidth, top + charheight * (z + 1));
            }
        }
        /*g.setColor(Color.white);
        g.fillRect(0,0,200,200);
        g.setColor(Color.red);
        //NOTE 50, 60 is bottom left
        g.drawString ("@", 50, 60);
        g.setColor(Color.black);
        g.drawRect(45,45,20,18); */
    }


    //check if the user presses a key
    public void keyPressed (KeyEvent e)
    {
        //variable to get the int value of the input
        int key = e.getKeyCode ();

         if(key == KeyEvent.VK_2)
        {
            down = true;
        }
        if (key == KeyEvent.VK_8)
        {

            up = true;

        }
        if (key == KeyEvent.VK_4)
        {

            left = true;

        }
        if (key == KeyEvent.VK_6)
        {

            right = true;
        }
        if (key == KeyEvent.VK_9)
        {

            right = true;
            up = true
        }
        if (key == KeyEvent.VK_7)
        {

            left = true;
            up = true
        }
        if (key == KeyEvent.VK_3)
        {

            right = true;
            down = true
        }
        if (key == KeyEvent.VK_1)
        {

            left = true;
            down = true
        }

    }


    public void keyTyped (KeyEvent e)
    {

    }


    //get input if user releases a key
    public void keyReleased (KeyEvent e)
    {
        //declare in value to key released
        int key = e.getKeyCode ();

         if(key == KeyEvent.VK_2)
        {
            down = false;
        }
        if (key == KeyEvent.VK_8)
        {

            up = false;

        }
        if (key == KeyEvent.VK_4)
        {

            left = false;

        }
        if (key == KeyEvent.VK_6)
        {

            right = false;
        }
        if (key == KeyEvent.VK_9)
        {

            right = false;
            up = false
        }
        if (key == KeyEvent.VK_7)
        {

            left = false;
            up = false
        }
        if (key == KeyEvent.VK_3)
        {

            right = false;
            down = false
        }
        if (key == KeyEvent.VK_1)
        {

            left = false;
            down = false
        }

    }


    public void mouseClicked (MouseEvent e)
    {


    }


    public void mouseEntered (MouseEvent e)
    {
    }


    public void mouseExited (MouseEvent e)
    {
    }


    //if the user clicks something on the screen
    public void mousePressed (MouseEvent e)
    {
        //get the int values of its coordinates
        int mx = e.getX ();
        int my = e.getY ();
        System.out.println (mx);
        System.out.println (my);







    }


    public void mouseReleased (MouseEvent e)
    {
    }


    //main method to create jframe
    public static void main (String[] args)
    {
        //new Jframe
        JFrame f = new JFrame ();
        //add in the prep
        f.getContentPane ().add (new Awaomain ());
        //exit on close
        f.setDefaultCloseOperation (JFrame.EXIT_ON_CLOSE);
        //close up shop and make it visible
        f.pack ();
        f.setVisible (true);
    }
}
